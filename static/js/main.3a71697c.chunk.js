(this.webpackJsonpcanvas=this.webpackJsonpcanvas||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),l=n(11),o=n.n(l),i=n(2),u=(n(42),n(6)),m=n(3),s=n(12),d=Object(u.b)({name:"canvas",initialState:{elements:[],selectedElement:-1},reducers:{addElement:function(e,t){var n=e.elements,a=t.payload;n.push(Object(s.a)({},a,{top:10,left:10}))},moveElement:function(e,t){var n=e.elements,a=t.payload,r=a.id,c=a.top,l=a.left;n[r].top+=c,n[r].left+=l},selectElement:function(e,t){var n=t.payload.id;n>=-1&&n<e.elements.length&&(e.selectedElement!==n?e.selectedElement=n:e.selectedElement=-1)},changeSelectedElementProp:function(e,t){var n=t.payload;Object.assign(e.elements[e.selectedElement].props,n)}}}),f=d.actions,E=f.addElement,v=f.moveElement,p=f.selectElement,b=f.changeSelectedElementProp,h=d.reducer,g=Object(m.c)({canvas:h}),j=function(e){return e.canvas},y=[],O=(n(43),function(){return c.a.createElement("label",null,"Header")}),w=(n(44),n(45),function(e){var t=e.width,n=e.height,a=e.backgroundColor;return c.a.createElement("div",{style:{width:t,height:n,backgroundColor:a}})});!function(e){e.Box="element_box"}(a||(a={}));var N=[function(){return c.a.createElement(w,{height:40,width:"100%",backgroundColor:"#444444"})}],k=Object(i.b)(null,(function(e){return{onClick:function(){return e(E({type:a.Box,props:{width:140,height:50,backgroundColor:"#ac04f2"}}))}}}))((function(e){var t=e.onClick;return c.a.createElement("div",{className:"Sidebar"},c.a.createElement("h4",null,"Add element"),N.map((function(e,n){return c.a.createElement("div",{key:n,className:"element-container",onClick:t},c.a.createElement(e,null))})))})),S=n(14),C=(n(46),n(1)),P=n(30),X=n.n(P),Y=Object(C.a)(j,(function(e){return e.elements})),B=Object(C.a)(Y,(function(e){return e.map((function(e){return{top:e.top,left:e.left}}))})),x=Object(C.a)(Y,(function(e){return X()((function(t){var n=e[t];return{props:n.props,type:n.type}}))})),F=Object(C.a)(j,(function(e){return e.selectedElement})),A=Object(C.a)(F,(function(e){return e>-1})),D=Object(C.a)(Y,F,(function(e,t){return e[t].props})),I=Object(i.b)((function(e,t){return Object(s.a)({},x(e)(t.id))}))((function(e){var t=e.type,n=e.props,r=function(e){switch(e){case a.Box:return function(e){return c.a.createElement(w,e)};default:throw new Error("No element for ".concat(e," type"))}}(t);return c.a.createElement(r,n)})),J=Object(i.b)((function(e){return{elementPositions:B(e)}}),(function(e){return{moveElement:function(t){return e(v(t))},selectElement:function(t){return e(p(t))}}}))((function(e){var t=e.elementPositions,n=e.moveElement,a=e.selectElement,l=Object(r.useState)({id:-1,clientX:-1,clientY:-1}),o=Object(S.a)(l,2),i=o[0],u=o[1];return c.a.createElement("div",{className:"Canvas"},t.map((function(e,t){var r=e.top,l=e.left;return c.a.createElement("div",{key:t,style:{top:r,left:l},className:"canvas-element",onDragStart:function(e){var t=e.clientX,n=e.clientY;return u({clientX:t,clientY:n})},onDragEnd:function(e){var a=e.clientX,r=e.clientY;return function(e){var t=e.id,a=e.clientX,r=e.clientY,c={id:t,left:a-i.clientX,top:r-i.clientY};n(c)}({id:t,clientX:a,clientY:r})},onClick:function(){return a({id:t})},draggable:!0},c.a.createElement(I,{id:t}))})))})),W=(n(73),n(13)),H=n(31),M=n.n(H),$=Object(i.b)((function(e){return{selectedElementProps:D(e)}}),(function(e){return{changeSelectedElementProp:function(t){return e(b(t))}}}))((function(e){var t=e.selectedElementProps,n=e.changeSelectedElementProp;return c.a.createElement(c.a.Fragment,null,M()(t).map((function(e){var t=Object(S.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{key:a},a,": ",c.a.createElement("input",{type:typeof r,value:r,onChange:function(e){return n(Object(W.a)({},a,(t=typeof r,function(e){return"string"===t?e:"number"===t?parseInt(e):void 0})(e.target.value)));var t}}))})))})),_=Object(i.b)((function(e){return{isSelectedElement:A(e)}}))((function(e){var t=e.isSelectedElement;return console.log(t),c.a.createElement("div",{className:"ElementSettings"},c.a.createElement("p",null,"Settings"),t&&c.a.createElement($,null))})),q=function(){return c.a.createElement("div",{className:"Body"},c.a.createElement("div",{className:"sidebar"},c.a.createElement(k,null)),c.a.createElement("div",{className:"divisor"}),c.a.createElement("div",{className:"canvas"},c.a.createElement(J,null)),c.a.createElement("div",{className:"divisor"}),c.a.createElement("div",{className:"settings"},c.a.createElement(_,null)))},z=function(){return c.a.createElement("label",null,"Footer")};var G=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},c.a.createElement(O,null)),c.a.createElement("div",{className:"body"},c.a.createElement(q,null)),c.a.createElement("div",{className:"footer"},c.a.createElement(z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=Object(u.a)({reducer:g,middleware:y});o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{store:K},c.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,n){e.exports=n(102)},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},73:function(e,t,n){}},[[32,1,2]]]);
//# sourceMappingURL=main.3a71697c.chunk.js.map